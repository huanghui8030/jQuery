function percentTofloat(e){return"%"==e.substring(e.length-1,e.length)&&(e=e.substring(0,e.length-1),e/=100),e}var pie={run:function(e){if(!e.id)throw new Error("must be canvas id.");var t,n=document.getElementById(e.id);if(n&&(t=n.getContext("2d"))){n.width=n.height="200";var r=function(){},o=e.onBefore||r,l=e.onAfter||r;o(t),e.percent<.5?t.fillStyle=e.color||"#f9684b":t.fillStyle=e.color||"#48B325";var i=e.step||1,a=e.delay||3,c=0,f=360*(e.percent||0),p=.5*-Math.PI,u=function(){c+=i,c<=f?(t.beginPath(),t.moveTo(100,100),t.arc(100,100,100,p,2*Math.PI*(c/360)+p),t.fill(),setTimeout(u,a)):l(t)};u()}}},p=0,len=$(".jqm-round-wrap").length;for(p=0;p<len;p++){var k=$("#jqm-round-sector"+p).next(".jqm-round-circle").find("p").html();k=percentTofloat(k),pie.run({id:"jqm-round-sector"+p,percent:k,delay:parseFloat($("#jqm-round-sector"+p).attr("delay")),onBefore:function(e){e.fillStyle="#ebebeb",e.beginPath(),e.moveTo(100,100),e.arc(100,100,100,0,2*Math.PI),e.fill()}})}